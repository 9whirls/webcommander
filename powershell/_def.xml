<?xml version="1.0"?>
<!--
Copyright (c) 2012-2014 VMware, Inc.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
-->
<!-- Author: Jerry Liu, liuj@vmware.com -->

<!DOCTYPE webcommander[
<!ENTITY commonViServerParam '
<parameter optional="0" name="serverAddress" description="IP or FQDN of the ESX or VC server where the target VM is located" />
<parameter optional="1" name="serverUser" description="User name to connect to the server (default is root)" type="selectText">
	<options>
		<option value="root">root</option>
		<option value="administrator">administrator</option>
	</options>
</parameter>
<parameter optional="1" name="serverPassword" description="Password of the user (default is VMware standard)" type="password" />
'>
<!ENTITY vmParam '
<parameter optional="0" name="vmName" description="Name of the target VM" />
<parameter optional="1" name="guestUser" description="User of guest OS (default is administrator)" />
<parameter optional="1" name="guestPassword" description="Password of guest OS (default is VMware standard)" type="password" /> 
'>
<!ENTITY commonVcParam '
<parameter optional="0" name="vcAddress" description="IP or FQDN of the VC server" />
<parameter optional="1" name="vcUser" description="User name to connect to VC server (default is administrator)" />
<parameter optional="1" name="vcPassword" description="Password of the user (default is VMware standard)" type="password" /> 
'>
<!ENTITY commonDomainParam '
<parameter optional="0" name="domainName" description="Name of the domain" />
<parameter optional="1" name="domainUser" description="User name to connect to domain (default is administrator)" />
<parameter optional="1" name="domainPassword" description="Password of the user (default is VMware standard)" type="password" /> 
'>
<!ENTITY falseOrTrue '
<options>
	<option value="false">false</option>
	<option value="true">true</option>
</options> 
'>
<!ENTITY commonBuildParam '
<parameter optional="1" name="product" description="Name of the product of the build" />
<parameter optional="1" name="branch" description="Name of the branch of the build " />
<parameter optional="0" name="build" description="Number of the build to install" type="selectText">
	<options/>
</parameter>
'>
<!ENTITY rdsSessionCounter '
<parameter optional="0" name="counter" description="What to count" type="option">
	<options>
		<option value="getAllLocalSessionCount">AllLocalSessionCount</option>  
		<option value="getAllAppSessionCount">AllAppSessionCount</option>
		<option value="getAllLocalDesktopSessionCount">AllLocalDesktopSessionCount</option>
		<option value="getAllConnectedAppSessionCount">AllConnectedAppSessionCount</option>
		<option value="getAllConnectedLocalDesktopSessionCount">AllConnectedLocalDesktopSessionCount</option>
		<option value="getAllDisconnectedAppSessionCount">AllDisconnectedAppSessionCount</option>
		<option value="getAllDisconnectedLocalDesktopSessionCount">AllDisconnectedLocalDesktopSessionCount</option>
	</options>
</parameter>
'>
]>
<webcommander>
	<command name="adNewDomain" description="Create a child domain" developer="liuj">
		<script>ad\adNewDomain1</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="domainName" description="Name of the new domain" />
			<parameter optional="0" name="domainMode" description="Domain mode" type="option">
				<options>
					<option value="Win2003">Win2003</option>
					<option value="Win2008">Win2008</option>
					<option value="Win2008R2">Win2008R2</option>
					<option value="Win2012">Win2012</option>
				</options>
			</parameter>
			<parameter optional="1" name="safeModePassword" description="Safe mode administrator password (default is VMware standard)" type="password" />
			<parameter optional="0" name="parentDomainName" description="Name of the parent domain" />
			<parameter optional="1" name="parentDomainUser" description="User of the parent domain (default is administrator)" />
			<parameter optional="1" name="parentDomainPassword" description="Password of the parent domain (default is VMware standard)" type="password" />
			<parameter optional="0" name="parentDomainControllerAddress" description="FQDN of the parent domain controller" />
		</parameters>
		<categories>
			<category>AD</category>
		</categories>
	</command>
	<command name="adNewForest" description="Create a forest" developer="liuj">
		<script>ad\adNewForest1</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="domainName" description="Name of the new domain" />
			<parameter optional="0" name="netbiosName" description="Netbios name of the new domain" />
			<parameter optional="0" name="forestMode" description="Forest mode" type="option">
				<options>
					<option value="Win2003">Win2003</option>
					<option value="Win2008">Win2008</option>
					<option value="Win2008R2">Win2008R2</option>
					<option value="Win2012">Win2012</option>
				</options>
			</parameter>
			<parameter optional="1" name="safeModePassword" description="Safe mode administrator password (default is VMware standard)" type="password" />
		</parameters>
		<categories>
			<category>AD</category>
		</categories>
	</command>
	<command name="adNewUserAndGroup" description="Create new users and groups" developer="liuj">
		<script>ad\adNewUserAndGroup1</script>
		<annotation>
			<p>Users will be averagely added into each group.</p>
			<p>For instance, when there are 100 users and 10 groups:</p>
			<p>user-1 to user-10 will be in group-1, user-11 to user-20 will be in group-2, etc.</p>
		</annotation>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="userPrefix" description="Prefix of user name" />
			<parameter optional="1" name="totalUser" description="Number of users to create, default is '1'" />
			<parameter optional="1" name="userPassword" description="User password (default is VMware standard)" type="password" />
			<parameter optional="0" name="groupPrefix" description="Prefix of group name" />
			<parameter optional="1" name="totalGroup" description="Number of groups to create, default is '1'" />
		</parameters>
		<categories>
			<category>AD</category>
		</categories>
	</command>
	<command name="adJoinDomain" description="Join domain" developer="liuj">
		<script>ad\adJoinDomain</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			&commonDomainParam;
			<parameter optional="0" name="dnsIp" description="IP address of DNS server" />
		</parameters>
		<categories>
			<category>AD</category>
		</categories>
	</command>
	<command name="brokerAddComposer" description="Add composer" developer="liuj">
		<script>broker\brokerAddComposer</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			&commonVcParam;
			<parameter optional="0" name="composerAddress" description="IP or FQDN of the composer server" />
			<parameter optional="1" name="composerUser" description="User name to connect to composer server (default is local\administrator)" />
			<parameter optional="1" name="composerPassword" description="Password of the user (default is VMware standard)" type="password" />
			<parameter optional="1" name="port" description="Composer port number, default is 18443" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerAddComposerDomain" description="Add composer domain" developer="liuj">
		<script>broker\brokerAddComposerDomain</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			&commonVcParam;
			<parameter optional="0" name="domainName" description="Domain name" />
			<parameter optional="1" name="domainUser" description="Domain user name (default is administrator)" />
			<parameter optional="1" name="domainPassword" description="Password of the user (default is VMware standard)" type="password" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerAddLicense" description="Add license" developer="liuj">
		<script>broker\brokerAddLicense</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="license" description="License key" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerAddLinkedClonePool" description="Add linked clone pool" developer="liuj">
		<script>broker\brokerAddLinkedClonePool</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="vcAddress" description="VC address showed in admin UI" />
			<parameter optional="0" name="composerDomainName" description="Composer domain name" />
			<parameter optional="0" name="poolId" description="Unique name used to identify this pool" />
			<parameter optional="1" name="namePrefix" description="Name prefix, default is 'poolID-'" />
			<parameter optional="0" name="parentVmPath" description="Path to a virtual machine to be used as the parent VM for this desktop pool." />
			<parameter optional="0" name="parentSnapshotPath" description="Path to the snapshot that is to be used as the image for this pool, i.e. /clean or /clean/test0" />
			<parameter optional="0" name="vmFolderPath" description="Specify a location for this new directory as a vCenter folder path." />
			<parameter optional="0" name="resourcePoolPath" description="Path to a resource pool to be used for this desktop pool." />
			<parameter optional="0" name="datastoreSpecs" description="List of datastore specs for storage of desktop VMs and data disks, separated by semicolons using the format: '[Overcommit,usage]/path/to/datastore'" />
			<parameter optional="1" name="dataDiskLetter" description="Data disk letter, default is 'U'" />
			<parameter optional="1" name="dataDiskSize" description="Data disk size, default is 2048" />
			<parameter optional="1" name="tempDiskSize" description="Temp disk size, default is 1024" />
			<parameter optional="0" name="min" description="Minimum number of desktops to be provisioned in this pool" />
			<parameter optional="0" name="max" description="Maximum number of desktops to be provisioned in this pool" />
			<parameter optional="1" name="poolType" description="User assignment mode" type="option">
				<options>
					<option value="Persistent">Persistent</option>
					<option value="NonPersistent">NonPersistent</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerAddManualPool" description="Add manual pool" developer="liuj">
		<script>broker\brokerAddManualPool</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="poolId" description="Unique name used to identify this pool" />
			&commonVcParam;
			<parameter optional="0" name="agentVmName" description="Agent virtual machine name in the vCenter inventory" />
			<parameter optional="0" name="poolType" description="User assignment mode" type="option">
				<options>
					<option value="Persistent">Persistent</option>
					<option value="NonPersistent">NonPersistent</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerAddSviPool" description="Add SVI pool" developer="liuj">
		<script>broker\brokerAddSviPool</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="poolId" description="Unique name used to identify this pool" />
			&commonVcParam;
			<parameter optional="0" name="parentVmName" description="Parent virtual machine name in the vCenter inventory" />
			<parameter optional="0" name="snapshotPath" description="Path to the snapshot that is to be used as the image for this pool, i.e. /clean or /clean/test0" />
			<parameter optional="0" name="min" description="Minimum number of desktops to be provisioned in this pool" />
			<parameter optional="0" name="max" description="Maximum number of desktops to be provisioned in this pool" />
			<parameter optional="0" name="poolType" description="User assignment mode" type="option">
				<options>
					<option value="Persistent">Persistent</option>
					<option value="NonPersistent">NonPersistent</option>
				</options>
			</parameter>
			<parameter optional="1" name="vmEsxHost" description="The host or cluster on which to run the VMs created for this pool (default is the same one where the parent VM is located)" />
			<parameter optional="0" name="datastore" description="The storage of desktop VMs and data disks" type="selectText">
				<options />
			</parameter>
			<parameter optional="1" name="folder" description="A new folder will be created to store the pool VMs. Specify a location for this folder as a vCenter folder path" />
			<parameter optional="1" name="resourcePool" description="Path to a resource pool to be used for this desktop pool" />
			<parameter optional="0" name="datacenter" description="Name of the datacenter where this desktop pool locates" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerAddTransferServer" description="Add transfer server" developer="liuj">
		<script>broker\brokerAddTransferServer</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			&commonVcParam;
			<parameter optional="0" name="tsVmName" description="Transfer server virtual machine name in the vCenter inventory" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerAddVc" description="Add VC" developer="liuj">
		<script>broker\brokerAddVc</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			&commonVcParam;
			<parameter optional="0" name="useComposer" description="If use composer, true or false" type="option">
				&falseOrTrue;
			</parameter>
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerEntitlePool" description="Entitle pool" developer="liuj">
		<script>broker\brokerEntitlePool</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="poolId" description="Pool ID" />
			<parameter optional="0" name="userName" description="Specifies user name (in domain\user format)" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerGetDesktopState" description="Get desktop state" developer="liuj">
		<script>broker\brokerGetDesktopState1</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="poolId" description="Pool ID, default is '*' for all pools" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerSettingsAction" description="Import / Export Broker Settings" developer="liuj">
		<script>broker\brokerSettings</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="filePath" description="Path to the broker settings file, default is c:\temp\broker.ldif" />
			<parameter optional="0" name="action" description="Action on broker Settings" type="option">
				<options>
					<option value="export">export</option>
					<option value="import">import</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerRebalanceLinkedClonePool" description="Rebalance linked clone pool" developer="liuj">
		<script>broker\brokerRebalanceLinkedClonePool</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="poolId" description="Unique name used to identify this pool" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerRecomposeLinkedClonePool" description="Recompose linked clone pool" developer="liuj">
		<script>broker\brokerRecomposeLinkedClonePool</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="poolId" description="Unique name used to identify this pool" />
			<parameter optional="0" name="parentVmPath" description="Path to a virtual machine to be used as the parent VM for this desktop pool." />
			<parameter optional="0" name="parentSnapshotPath" description="Path to the snapshot that is to be used as the image for this pool, i.e. /clean or /clean/test0" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerRefreshLinkedClonePool" description="Refresh linked clone pool" developer="liuj">
		<script>broker\brokerRefreshLinkedClonePool</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="poolId" description="Unique name used to identify this pool" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerRemovePool" description="Remove pool" developer="liuj">
		<script>broker\brokerRemovePool</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="poolId" description="Pool ID" />
			<parameter optional="0" name="rmFromDisk" description="If remove VM from disk, true or false" type="option">
				&falseOrTrue;
			</parameter>
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerRemoveTransferServer" description="Remove transfer server" developer="liuj">
		<script>broker\brokerRemoveTransferServer</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="tsVmName" description="Transfer server virtual machine name in the vCenter inventory. Input '*' to remove all" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerSendSessionLogoff" description="Send session logoff to pool" developer="liuj">
		<script>broker\brokerSendSessionLogoff</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="poolId" description="Unique name used to identify this pool" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerSetRecoveryDisabled" description="Set Auto-Recovery" developer="liuj">
		<script>broker\brokerSetRecoveryDisabled</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="poolId" description="Pool ID" />
			<parameter optional="0" name="switch" description="Value of pae-RecoveryDisabled, 0 or 1" type="option">
				<options>
					<option value="0">0</option>
					<option value="1">1</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerSetDirectConnect" description="Set direct connect" developer="liuj">
		<script>broker\brokerSetDirectConnect</script>
		<annotation>
			<p>This command is to configure HTTP(S) Secure Tunnel on Broker. The PowerCLI cmdlet used by this command is</p>
			<p>update-connectionbroker -directconnect [$false | $true]</p>
			<p>When set to False, "Use Secure Tunnel connection to desktop" is checked in the dialog below.</p>
			<p>
				<img id="widthSetter" src="images/brokerEdit.png" />
			</p>
		</annotation>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="switch" description="Switch, true or false" type="option">
				&falseOrTrue;
			</parameter>
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerSetDirectPCoIP" description="Set direct PCoIP" developer="liuj">
		<script>broker\brokerSetDirectPCoIP</script>
		<annotation>
			<p>This command is to configure PCoIP secure gateway. The PowerCLI cmdlet used by this command is</p>
			<p>update-connectionbroker -directPCoIP [$false | $true]</p>
			<p>When set to False, "Use PCoIP Secure Gateway for PCoIP connections to desktop" is checked in the dialog below.</p>
			<p>
				<img id="widthSetter" src="images/brokerEdit.png" />
			</p>
		</annotation>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="switch" description="Switch, true or false" type="option">
				&falseOrTrue;
			</parameter>
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerSetEventDatabase" description="Set event database" developer="liuj">
		<script>broker\brokerSetEventDatabase1</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="dbAddress" description="Database server address" />
			<parameter optional="1" name="dbType" description="Database server type, default is SQLSERVER" type="option">
				<options>
					<option value="SQLSERVER">SQLSERVER</option>
					<option value="ORACLE">ORACLE</option>
				</options>
			</parameter>
			<parameter optional="1" name="dbPort" description="Port, default is 1433" />
			<parameter optional="0" name="dbName" description="Database name" />
			<parameter optional="1" name="dbUser" description="User name, default is administrator" />
			<parameter optional="1" name="dbPassword" description="Password, default is VMware standard" type="password" />
			<parameter optional="0" name="tablePrefix" description="Table prefix" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerSetHtmlAccess" description="Set HTML Access" developer="liuj">
		<script>broker\brokerSetHtmlAccess</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="poolId" description="Pool ID" />
			<parameter optional="0" name="switch" description="Switch, true or false" type="option">
				&falseOrTrue;
			</parameter>
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerSetPairingPassword" description="Set pairing password" developer="liuj">
		<script>broker\brokerSetPairingPassword1</script>
		<annotation>
			<p>This command is to specify Security Server Pairing Password in the dialog below. This must run before installing Security Server.</p>
			<p>The password is hardcoded to 111111, and timeout is 24 hours.</p>
			<p>
				<img id="widthSetter" src="images/pairingPassword.png" />
			</p>
		</annotation>
		<parameters>
			&commonViServerParam;
			&vmParam;
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerSetPoolName" description="Set pool display name" developer="liuj">
		<script>broker\brokerSetPoolName</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="poolId" description="Specifies pool ID" />
			<parameter optional="0" name="poolName" description="Specifies the pool display name" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerSetPoolId" description="Set pool ID" developer="liuj">
		<script>broker\brokerSetPoolId</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="poolId" description="Specifies pool ID" />
			<parameter optional="0" name="newId" description="Specifies the new ID" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerSetupSmartcard" description="Setup smartcard" developer="liuj">
		<script>broker\brokerSetupSmartcard</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="cert" description="CA certificate" type="file" />
		</parameters>
		<categories>
			<category>Broker</category>
		</categories>
	</command>
	<command name="brokerAddApplication" description="Add application" developer="liuj">
		<script>brokerrds\brokerAddApplication</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="farmName" description="Specifies Farm name" />
			<parameter optional="0" name="applicationName" description="Specifies application name" />
			<parameter optional="1" name="applicationId" description="Specifies application ID" />
			<parameter optional="1" name="displayName" description="Specifies application display name" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
		</categories>
	</command>
	<command name="brokerAddRdsAppPool" description="Add application pool" developer="liuj">
		<script>brokerrds\brokerAddRdsAppPool</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="farmId" description="Specifies Farm ID" />
			<parameter optional="0" name="poolId" description="Specifies application pool ID" />
			<parameter optional="0" name="execPath" description="Specifies application executable path" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
		</categories>
	</command>
	<command name="brokerAddRdsDesktopPool" description="Add desktop pool" developer="liuj">
		<script>brokerrds\brokerAddRdsDesktopPool</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="farmId" description="Specifies farm ID" />
			<parameter optional="0" name="poolId" description="Specifies desktop pool ID" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
		</categories>
	</command>
	<command name="brokerAddFarm" description="Add farm" developer="liuj">
		<script>brokerrds\brokerAddFarm</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="farmName" description="Specifies Farm name" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
		</categories>
	</command>
	<command name="brokerAddFarmWithRdsServer" description="Add farm with RDS server" developer="liuj">
		<script>brokerrds\brokerAddFarmWithRdsServer</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="farmName" description="Specifies Farm name" />
			<parameter optional="0" name="rdsServerDnsName" description="Specifies RDS server DNS name" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
		</categories>
	</command>
	<command name="brokerAddRdsServerToFarm" description="Add RDS server to farm" developer="liuj">
		<script>brokerrds\brokerAddRdsServerToFarm</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="farmName" description="Specifies Farm name" />
			<parameter optional="0" name="rdsServerDnsName" description="Specifies RDS server DNS name" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
		</categories>
	</command>
	<command name="brokerDeleteApplication" description="Delete application" developer="liuj">
		<script>brokerrds\brokerDeleteApplication</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="applicationId" description="Specifies application ID" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
		</categories>
	</command>
	<command name="brokerDeleteDesktop" description="Delete desktop" developer="liuj">
		<script>brokerrds\brokerDeleteDesktop</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="desktopId" description="Specifies desktop ID" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
		</categories>
	</command>
	<command name="brokerDeleteFarm" description="Delete farm" developer="liuj">
		<script>brokerrds\brokerDeleteFarm</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="farmName" description="Specifies Farm name" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
		</categories>
	</command>
	<command name="brokerEntitleApplication" description="Entitle application" developer="liuj">
		<script>brokerrds\brokerEntitleApplication</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="applicationId" description="Specifies application ID" />
			<parameter optional="0" name="userName" description="Specifies user name (in domain\user format)" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
		</categories>
	</command>
	<command name="brokerRemoveRdsServerFromFarm" description="Remove RDS server from farm" developer="liuj">
		<script>brokerrds\brokerRemoveRdsServerFromFarm</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="farmName" description="Specifies Farm name" />
			<parameter optional="0" name="rdsServerDnsName" description="Specifies RDS server DNS name" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
		</categories>
	</command>
	<command name="listBuild" description="Search builds with product and branch" developer="liuj">
		<script>misc\listBuild</script>
		<parameters>
			<parameter optional="0" name="product" description="Name of the product of the build" />
			<parameter optional="0" name="branch" description="Name of the branch of the build " />
			<parameter optional="1" name="releaseType" description="Release type" type="selectText">
				<options>
					<option value="beta">beta</option>
					<option value="GA">GA</option>
				</options>
			</parameter>
			<parameter optional="1" name="buildType" description="Build type" type="selectText">
				<options>
					<option value="beta">beta</option>
					<option value="release">release</option>
				</options>
			</parameter>
			<parameter optional="1" name="qaResult" description="Filter build by QA Result " />
			<parameter optional="1" name="latest" description="Number of latest builds to list " />
		</parameters>
		<categories>
			<category>Build</category>
		</categories>
	</command>
	<command name="sendEmail" description="Send email notification" developer="liuj">
		<script>misc\sendEmail</script>
		<parameters>
			<parameter optional="1" name="fromAddress" description="From address, default is doNotReply@vmware.com" />
			<parameter optional="0" name="toAddress" description="To address" />
			<parameter optional="1" name="ccAddress" description="CC address" />
			<parameter optional="1" name="bccAddress" description="BCC address" />
			<parameter optional="1" name="subject" description="Subject, default is 'webCommander notification'" />
			<parameter optional="0" name="body" description="Email body" type="textarea" />
		</parameters>
		<categories>
			<category>Email</category>
		</categories>
	</command>
	<command name="installComposerSync" description="Composer" developer="liuj">
		<script>install\vmware\installComposer</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="ssName" description="Name of the snapshot which to restore before installing Composer" />
			<parameter optional="0" name="build" description="Number of the build to install" />
			<parameter optional="0" name="dsnName" description="Name of DSN to connect to VC database" />
			<parameter optional="1" name="dbUser" description="Name of the database user, default is 'sa'" />
			<parameter optional="1" name="dbPassword" description="Password of the database user, default is VMware standard" />
			<parameter optional="1" name="downloadOnly" description="Download build without installing it" type="option">
				&falseOrTrue;
			</parameter>
		</parameters>
		<categories>
			<category>Install</category>
		</categories>
	</command>
	<command name="installDotNet" description="DotNet 4.5.2" developer="liuj">
		<script>install\installDotNet</script>
		<annotation>
			<p>
				<b>Supported Operating System</b>
			</p>
			<p>Windows 7 Service Pack 1, Windows 8, Windows 8.1, Windows Server 2008 R2 SP1, Windows Server 2008 Service Pack 2, Windows Server 2012, Windows Server 2012 R2, Windows Vista Service Pack 2</p>
		</annotation>
		<parameters>
			&commonViServerParam;
			&vmParam;
		</parameters>
		<categories>
			<category>Install</category>
		</categories>
	</command>
	<command name="installSilently" description="Install silently" developer="liuj">
		<script>install\installSilently</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="ssName" description="Name of the snapshot which to restore before installing View" />
			<parameter optional="0" name="installerUrl" description="URL to the installer binary" />
			<parameter optional="1" name="silentInstallParam" description="Silent install parameters, such as ' /s /v /qn'" />
			<parameter optional="1" name="downloadOnly" description="Download build without installing it" type="option">
				&falseOrTrue;
			</parameter>
		</parameters>
		<categories>
			<category>Install</category>
		</categories>
	</command>
	<command name="installCis" description="VC 2015" developer="liuj">
		<script>install\vmware\installCis</script>
		<annotation>
			<p>The user defined as "guestUser" must have already logged on the target machine, when the install starts. Otherwise the install will fail. 
				<br />Service <a href="webCmd.php?command=vmSetAutoAdminLogon" target="_blank">vmSetAutoAdminLogon</a> could be used to meet this requirement.
				<br />Default VC user is 'administrator@vsphere.local'.
				<br />Default VC password is 'passw0rd'.
				<br />Refer to this <a href="https://wiki.eng.vmware.com/PIT/Projects/2015/vc_silent_install" target="_blank">wiki</a> for a template setting in JSON </p>
		</annotation>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="ssName" description="Name of the snapshot which to restore before installing Virtual Center" />
			&commonBuildParam;
			<parameter optional="1" name="customSettings" description="Custom settings in JSON format" type="textarea" />
			<parameter optional="1" name="downloadOnly" description="Download build without installing it" type="option">
				&falseOrTrue;
			</parameter>
		</parameters>
		<categories>
			<category>Install</category>
		</categories>
	</command>
	<command name="installVc" description="VC 5.5 and earlier versions" developer="liuj">
		<script>install\vmware\installVc</script>
		<annotation>
			<p>The user defined as "guestUser" must have already logged on the target machine, when the install starts. Otherwise the install will fail. 
				<br />Service <a href="webCmd.php?command=vmSetAutoAdminLogon" target="_blank">vmSetAutoAdminLogon</a> could be used to meet this requirement.
				<br />Default VC user is 'administrator@vsphere.local'.
				<br />Default VC password is 'Admin@12345'.</p>
		</annotation>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="ssName" description="Name of the snapshot which to restore before installing Virtual Center" />
			&commonBuildParam;
			<parameter optional="1" name="downloadOnly" description="Download build without installing it" type="option">
				&falseOrTrue;
			</parameter>
		</parameters>
		<categories>
			<category>Install</category>
		</categories>
	</command>
	<command name="installViewSync" description="View" developer="liuj">
		<script>install\vmware\installView</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="ssName" description="Name of the snapshot which to restore before installing View" />
			<parameter optional="0" name="type" description="Type of the View component to install" type="option">
				<options>
					<option value="blast">blast (Blast)</option>
					<option value="agent">agent (View Agent)</option>
					<option value="agent-direct">agent-direct (View Agent Direct Connection)</option>
					<option value="agent-ts">agent-ts (View Agent for Terminal Server)</option>
					<option value="agent-composer">agent-composer (View Composer Agent)</option>
					<option value="feature-pack">feature-pack (View Agent Feature Pack)</option>
					<option value="client">client (View Client for Windows)</option>
					<option value="client-cdk">client-cdk (WinCDK View Client)</option>
					<option value="client-local">client-local (View Client with Local Mode for Windows)</option>
					<option value="client-lx">client-lx (View Client for Linux)</option>
					<option value="client-osx">client-osx (View Client for OSX)</option>
					<option value="broker">broker (Standard View Connection Server)</option>
					<option value="broker-replica">broker-replica (Replica View Connection Server)</option>
					<option value="broker-security">broker-security (Security View Connection Server)</option>
					<option value="broker-transfer">broker-transfer (Transfer View Connection Server)</option>
				</options>
			</parameter>
			&commonBuildParam;
			<parameter optional="1" name="stdBrokerIp" description="IP address of standard broker (necessary for installing replica or security broker, and unmanaged agent)" />
			<parameter optional="1" name="downloadOnly" description="Download build without installing it" type="option">
				&falseOrTrue;
			</parameter>
			<!--parameter optional="1" name="emailTo" description="Email address to which to send notification" />
			<parameter optional="1" name="uvsId" description="This parameter is used by UVS only. It's not editable to end user." type="uvsid" /-->
		</parameters>
		<categories>
			<category>Install</category>
		</categories>
	</command>
	<command name="installWebCommander" description="WebCommander" developer="liuj">
		<script>install\installWebCommander</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="packageUrl" description="URL of WebCommander package, default is from Fling web site." />
			<parameter optional="1" name="authentication" description="Type of authentication, default is 'windows'" />
			<parameter optional="1" name="defaultPassword" description="Default password used by the server to communicate with vSphere and VM, default is VMware standard." type="password" />
		</parameters>
		<categories>
			<category>Install</category>
		</categories>
	</command>
	<command name="updateWindowsSync" description="Windows Update" developer="liuj">
		<script>windows\updateWindowsSync1</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="ssName" description="Name of the snapshot which to restore before updating Windows" />
			<parameter optional="1" name="updateServer" description="Windows update server from which to download updates, default is 'internal'" type="option">
				<options>
					<option value="internal">internal (VMware)</option>
					<option value="external">external (Microsoft)</option>
				</options>
			</parameter>
			<parameter optional="1" name="severity" description="Severity of the update to install, default is 'Critical'" type="option">
				<options>
					<option value="Critical">Critical</option>
					<option value="Important">Importanct (Critical + Important)</option>
					<option value="Moderate">Moderate (Critical + Important + Moderate)</option>
					<option value="Low">Low (Critical + Important + Moderate + Low)</option>
					<option value="All">All (Critical + Important + Moderate + Low + Not Defined)</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>Install</category>
		</categories>
	</command>
	<command name="updateWindows" description="Windows Update (asynchronous)" developer="liuj">
		<script>windows\updateWindows1</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="ssName" description="Name of the snapshot which to restore before updating Windows" />
			<parameter optional="1" name="updateServer" description="Windows update server from which to download updates, default is 'internal'" type="option">
				<options>
					<option value="internal">internal (VMware)</option>
					<option value="external">external (Microsoft)</option>
				</options>
			</parameter>
			<parameter optional="1" name="severity" description="Severity of the update to install, default is 'Critical'" type="option">
				<options>
					<option value="Critical">Critical</option>
					<option value="Important">Importanct (Critical + Important)</option>
					<option value="Moderate">Moderate (Critical + Important + Moderate)</option>
					<option value="Low">Low (Critical + Important + Moderate + Low)</option>
					<option value="All">All (Critical + Important + Moderate + Low + Not Defined)</option>
				</options>
			</parameter>
			<parameter optional="1" name="emailTo" description="Email address to which to send notification" />
			<parameter optional="1" name="uvsId" description="This parameter is used by UVS only. It's not editable to end user." type="uvsid" />
		</parameters>
		<categories>
			<category>Install</category>
		</categories>
	</command>
	<command name="vmSetViewLogLevel" description="Set View log level" developer="liuj">
		<script>windows\vmware\setViewLogLevel</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="logLevel" description="Log levels, 1-3 for Broker, 4-8 for Agent and Client" type="option">
				<options>
					<option value="0">0 (Default)</option>
					<option value="1">1 (View Info)</option>
					<option value="2">2 (View Debug)</option>
					<option value="3">3 (View Full)</option>
					<option value="4">4 (PCoIP Info)</option>
					<option value="5">5 (PCoIP Debug)</option>
					<option value="6">6 (Virtual Channel Info)</option>
					<option value="7">7 (Virtual Channel Debug)</option>
					<option value="8">8 (Virtual Channel Trace)</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>Log</category>
		</categories>
	</command>
	<command name="deployWindowsVmSync" description="Deploy Windows VM" developer="liuj">
		<script>deploy\deployWindowsVmSync</script>
		<xi:include href="deployWinVm.xml" xmlns:xi="http://www.w3.org/2003/XInclude" />
		<categories>
			<category>MakeVM</category>
		</categories>
	</command>
	<command name="deployWindowsVm" description="Deploy Windows VM (asynchronous)" developer="liuj">
		<script>deploy\deployWindowsVm</script>
		<xi:include href="deployWinVm.xml" xmlns:xi="http://www.w3.org/2003/XInclude" />
		<categories>
			<category>MakeVM</category>
		</categories>
	</command>
	<command name="deployWindowsVmNew" description="Deploy Windows VM (new)" developer="liuj" hidden="1">
		<script>deploy\deployWindowsVmNew</script>
		<xi:include href="deployWinVmNew.xml" xmlns:xi="http://www.w3.org/2003/XInclude" />
		<categories>
			<category>MakeVM</category>
		</categories>
	</command>
	<command name="linkedClone" description="Linked clone VM" developer="liuj">
		<script>deploy\linkedClone</script>
		<parameters>
			&commonVcParam;
			<parameter optional="0" name="parentVmName" description="Parent virtual machine name" />
			<parameter optional="0" name="parentSnapshotName" description="Parent snapshot name" />
			<parameter optional="0" name="datastoreName" description="Datastore name" />
			<parameter optional="0" name="vmHostName" description="VM host name" />
			<parameter optional="0" name="namePrefix" description="Prefix of the VM name" />
			<parameter optional="1" name="number" description="Number of VM to clone, default is 1" />
			<parameter optional="1" name="startNumber" description="Start number, default is 1" />
		</parameters>
		<categories>
			<category>MakeVM</category>
		</categories>
	</command>
	<command name="deployWindowsVm2" description="Post deployment action" developer="liuj" hidden="1">
		<script>deploy\deployWindowsVm2</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="emailTo" description="Email address to which to send notification" />
		</parameters>
		<categories>
			<category>MakeVM</category>
		</categories>
	</command>
	<command name="deployOva" description="Deploy to ESX" developer="liuj">
		<script>deploy\deployOva</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="0" name="ovaUrl" description="URL of the OVA" />
			<parameter optional="0" name="vmName" description="Name of the target VM to be deployed from OVA" />
			<parameter optional="0" name="datastore" description="Name of the datastore where the target VM is located" type="selectText">
				<options />
			</parameter>
			<parameter optional="0" name="portGroup" description="Name of the virtual port group where the target VM is located" type="selectText">
				<options />
			</parameter>
		</parameters>
		<categories>
			<category>OVA</category>
		</categories>
	</command>
	<command name="vmRemoteCosole" description="Access VM remotely" developer="liuj">
		<script>vm\vmRemoteConsole</script>
		<parameters>
			&commonViServerParam;
		</parameters>
		<categories>
			<category>Remote_Console</category>
		</categories>
	</command>
	<command name="sshRunScript" description="Run user defined script via SSH" developer="liuj">
		<script>misc\sshRunScript</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="0" name="script" description="Script to run in VM" type="textarea" />
		</parameters>
		<categories>
			<category>Script</category>
		</categories>
	</command>
	<command name="vmSqlDbAction" description="Create/drop database" developer="liuj">
		<script>windows\sqlDbAction</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="dbServerName" description="SQL server name, such as 'MICROSO-N9U1D7A\SQLEXPRESS'" />
			<parameter optional="0" name="dbName" description="Database name" />
			<parameter optional="0" name="action" description="Action on database, create | drop" type="option">
				<options>
					<option value="create">create</option>
					<option value="drop">drop</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>SQL_Server</category>
		</categories>
	</command>
	<command name="vmSetupStaf" description="Setup Staf" developer="liuj">
		<script>windows\vmware\setupStaf</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="start" description="How should Staf start, when user logon or as a service" type="option">
				<options>
					<option value="userLogon">userLogon</option>
					<option value="asService">asService</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>Staf</category>
		</categories>
	</command>
	<command name="viewApiOperator_addRdsAppPool" description="Add application pool" developer="liuj">
		<script>brokerrds\viewapi\viewApiOperator_addRdsAppPool</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="farmName" description="Specifies farm name" />
			<parameter optional="0" name="rdsServerDnsName" description="Specifies RDS server DNS name" />
			<parameter optional="0" name="appExecPath" description="Specifies application executable path" />
			<parameter optional="0" name="appName" description="Specifies application name" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
			<category>View_API</category>
		</categories>
	</command>
	<command name="vmCopyViewLogToUnc" description="Copy View log to a network share folder" developer="liuj">
		<script>windows\vmware\copyViewLogToUnc</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="unc" description="Network share, such as \\bugs.eng.vmware.com\bugs" />
			<parameter optional="1" name="uncUser" description="Network share user, default is 'administrator'" />
			<parameter optional="1" name="uncPassword" description="Network share password, default is VMware standard" type="password" />
			<parameter optional="1" name="folder" description="Folder on the network share, such as '\files\0\1\2\3\4\5\6\7\update0', default is '\'" />
		</parameters>
		<categories>
			<category>Log</category>
			<category>Windows</category>
		</categories>
	</command>
	<command name="vmEnableRdp" description="Enable RDP" developer="liuj">
		<script>windows\enableRDP</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
		</parameters>
		<categories>
			<category>Remote_Console</category>
			<category>Windows</category>
		</categories>
	</command>
	<command name="viewApiOperator_getAppExecPathOnRds" description="Get application path on RDS server" developer="liuj">
		<script>brokerrds\viewapi\viewApiOperator_getAppExecPathOnRds</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="farmName" description="Specifies farm name" />
			<parameter optional="0" name="rdsServerDnsName" description="Specifies RDS server DNS name" />
		</parameters>
		<categories>
			<category>Broker_RDS</category>
			<category>View_API</category>
		</categories>
	</command>
	<command name="viewApiOperator_getRdsSessionCount" description="Get RDS session count" developer="liuj">
		<script>brokerrds\viewapi\viewApiOperator_getRdsSessionCount</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			&rdsSessionCounter;
		</parameters>
		<categories>
			<category>Broker_RDS</category>
			<category>View_API</category>
		</categories>
	</command>
	<command name="vmxGet" description="Get VMX file" developer="liuj">
		<script>vm\vmxGet</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="0" name="vmName" description="Name of the target VM" />
		</parameters>
		<categories>
			<category>VMX</category>
			<category>VM</category>
		</categories>
	</command>
	<command name="vmInstallPowershell" description="Install Powershell" developer="liuj">
		<script>vm\vmInstallPowershell</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
		</parameters>
		<categories>
			<category>Powershell</category>
			<category>Install</category>
			<category>VM</category>
		</categories>
	</command>
	<command name="installPowershell4" description="Powershell 4.0" developer="liuj">
		<script>install\installPowershell4</script>
		<annotation>
			<p>
				<b>Supported Operating System</b>
			</p>
			<p>Windows 7, Windows Embedded Standard 7, Windows Server 2008 R2, Windows Server 2012</p>
			<p>Windows Management Framework 4.0 requires Microsoft .NET Framework 4.5. </p>
		</annotation>
		<parameters>
			&commonViServerParam;
			&vmParam;
		</parameters>
		<categories>
			<category>Powershell</category>
			<category>Install</category>
		</categories>
	</command>
	<command name="vmRunScript" description="Run user defined script" developer="liuj">
		<script>windows\runScript</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="script" description="Script to run in VM" type="textarea" />
			<parameter optional="1" name="type" description="Type of the script to run" type="option">
				<options>
					<option value="Bat">Bat (aynchronous, service returns immediately after triggering the batch script)</option>
					<option value="Powershell">Powershell (synchronous, service returns when Powershell script completes)</option>
					<option value="Interactive">Interactive (synchronous, the user must already log in the VM)</option>
					<option value="InteractivePS1">InteractivePS1 (synchronous, the user must already log in the VM)</option>
					<option value="Bash">Bash (synchronous)</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>Script</category>
			<category>Windows</category>
		</categories>
	</command>
	<command name="vmRunScript3" description="Run user defined script v3" developer="liuj" hidden="1">
		<script>windows\runScript3</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="script" description="Script to run in VM" type="textarea" />
			<parameter optional="1" name="type" description="Type of the script to run" type="option">
				<options>
					<option value="Bat">Bat (asynchronous, service returns immediately after triggering the batch script)</option>
					<option value="Powershell">Powershell (asynchronous)</option>
					<option value="Bash">Bash (asynchronous)</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>Script</category>
			<category>Windows</category>
		</categories>
	</command>
	<command name="vmxSet" description="Set VMX file" developer="liuj">
		<script>vm\vmxSet</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="0" name="vmName" description="Name of the target VM" />
			<parameter optional="0" name="vmxFile" description="VMX file" type="file" />
		</parameters>
		<categories>
			<category>VMX</category>
			<category>VM</category>
		</categories>
	</command>
	<command name="snapshotAction" description="Take / Restore / Remove" developer="liuj">
		<script>vm\snapshotAction</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="0" name="vmName" description="Name of the target VM" />
			<parameter optional="0" name="ssName" description="Name of the snapshot" />
			<parameter optional="1" name="ssDescription" description="Description of the snapshot" />
			<parameter optional="0" name="action" description="Action against the snapshot" type="option">
				<options>
					<option value="take">take</option>
					<option value="restore">restore</option>
					<option value="remove">remove</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>Snapshot</category>
			<category>VM</category>
		</categories>
	</command>
	<command name="uninstallApp" description="Windows application" developer="liuj">
		<script>install\uninstallApp</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="appName" description="Name of the application to uninstall (could be found at Control Panel &gt; Programs &gt; Programs and Features)" type="selectText">
				<options>
					<option value="View Client">View Client</option>
					<option value="View Agent">View Agent</option>
					<option value="View Connection Server">View Connection Server</option>
					<option value="VMwareVDMDS">VMwareVDMDS</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>Uninstall</category>
		</categories>
	</command>
	<command name="configureViewPlanner" description="Configure View Planner" developer="liuj">
		<script>configureViewPlanner</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="0" name="vmName" description="Name of the VP VM" />
			<parameter optional="1" name="staticIp" description="Static IP address of the VP VM" />
		</parameters>
		<categories>
			<category>View_Planner</category>
		</categories>
	</command>
	<command name="deployViewPlanner" description="Deploy and configure View Planner" developer="liuj" hidden="1">
		<script>deployViewPlanner</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="1" name="datastore" description="Name of the datastore where VP VM is located" type="selectText">
				<options />
			</parameter>
			<parameter optional="1" name="vpName" description="Name of the VP VM (default is 'ViewPlanner')" />
			<parameter optional="0" name="vpBuild" description="Build of VP" type="option">
				<options>
					<option value="1321259">1321259</option>
				</options>
			</parameter>
			<parameter optional="1" name="portGroup" description="Name of the virtual port group where VP VM is located" type="selectText">
				<options />
			</parameter>
			<parameter optional="1" name="staticIp" description="Static IP address of the VP VM" />
		</parameters>
		<categories>
			<category>View_Planner</category>
		</categories>
	</command>
	<command name="answerVmQuestion" description="Answer VM question" developer="liuj">
		<script>vm\answerVmQuestion</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="0" name="vmName" description="Name of the target VM" />
			<parameter optional="1" name="answer" description="Answer to the question, default is 'Cancel'" />
		</parameters>
		<categories>
			<category>VM</category>
		</categories>
	</command>
	<command name="deleteVm" description="Delete VM" developer="liuj">
		<script>vm\deleteVm</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="0" name="vmName" description="Name of the target VM" />
		</parameters>
		<categories>
			<category>VM</category>
		</categories>
	</command>
	<command name="listVmAndSnapshot" description="List VMs and snapshots" developer="liuj">
		<script>vm\listVmAndSnapshot</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="1" name="vmName" description="Name of the target VM. Default is '*' to list all VMs" />
		</parameters>
		<categories>
			<category>VM</category>
		</categories>
	</command>
	<command name="vmPowerOn" description="Power on" developer="liuj">
		<script>vm\vmPowerOn</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
		</parameters>
		<categories>
			<category>VM</category>
		</categories>
	</command>
	<command name="vmRunScript2" description="Run user defined script v2" developer="liuj" hidden="1">
		<script>vmRunScript2</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="script" description="Script to run in VM" type="textarea" />
			<parameter optional="1" name="type" description="Type of the script to run" type="option">
				<options>
					<option value="Bat">Bat (aynchronous, service returns immediately after triggering the batch script)</option>
					<option value="Powershell">Powershell (synchronous, service returns when Powershell script completes)</option>
					<option value="Interactive">Interactive (asynchronous, the user must already log in the VM)</option>
					<option value="Bash">Bash (synchronous)</option>
				</options>
			</parameter>
			<parameter optional="1" name="method" description="How to trigger scripts in VM" type="option">
				<options>
					<option value="PSSession">PSSession (Powershell remote session)</option>
					<option value="VMwareTools">VMwareTools (Invoke-VMScript through VMware Tools)</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>VM</category>
		</categories>
	</command>
	<command name="vmSetMemory" description="Set memory size" developer="liuj">
		<script>vm\vmSetMemory</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="0" name="vmName" description="Name of the target VM" />
			<parameter optional="0" name="memoryGb" description="Specifies the memory size in gigabytes (GB)." />
		</parameters>
		<categories>
			<category>VM</category>
		</categories>
	</command>
	<command name="vmSetPortGroup" description="Set network port group" developer="liuj">
		<script>vm\vmSetPortGroup</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="0" name="vmName" description="Name of the target VM" />
			<parameter optional="0" name="portGroup" description="Name of the port group" type="selectText">
				<options />
			</parameter>
		</parameters>
		<categories>
			<category>VM</category>
		</categories>
	</command>
	<command name="vmSuspend" description="Suspend" developer="liuj">
		<script>vm\vmSuspend</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
		</parameters>
		<categories>
			<category>VM</category>
		</categories>
	</command>
	<command name="vmUpdateTools" description="Update VMware Tools" developer="liuj">
		<script>vm\vmUpdateTools</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
		</parameters>
		<categories>
			<category>VM</category>
		</categories>
	</command>
	<command name="addDsNic" description="Add DS NIC" developer="liuj">
		<script>vsphere\addDsNic</script>
		<parameters>
			&commonVcParam;
			<parameter optional="1" name="esxAddress" description="FQDN or IP of ESX, default is '*'" />
			<parameter optional="0" name="dsName" description="Name of distributed switch" />
			<parameter optional="0" name="nicName" description="Name of network adapter" />
		</parameters>
		<categories>
			<category>vSphere</category>
		</categories>
	</command>
	<command name="addVsanAdapter" description="Add VSAN network adapter" developer="liuj">
		<script>vsphere\addVsanAdapter</script>
		<parameters>
			&commonVcParam;
			<parameter optional="1" name="esxAddress" description="FQDN or IP of ESX, default is '*'" />
			<parameter optional="0" name="portGroup" description="Name of virtual port group" type="selectText">
				<options />
			</parameter>
		</parameters>
		<categories>
			<category>vSphere</category>
		</categories>
	</command>
	<command name="listDatastore" description="List datastores" developer="liuj">
		<script>vsphere\listDatastore</script>
		<parameters>
			&commonViServerParam;
		</parameters>
		<categories>
			<category>vSphere</category>
		</categories>
	</command>
	<command name="listPortGroup" description="List port groups" developer="liuj">
		<script>vsphere\listPortGroup</script>
		<parameters>
			&commonViServerParam;
			<parameter option="1" name="format" description="Output format, JSON | XML (default)" type="option">
				<options>
					<option value="XML">XML</option>
					<option value="JSON">JSON</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>vSphere</category>
		</categories>
	</command>
	<command name="listResourcePool" description="List resource pools" developer="liuj">
		<script>vsphere\listResourcePool</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="1" name="resourcePoolName" description="Name of the target resource pool. Default is '*' to list all resource pools" />
		</parameters>
		<categories>
			<category>vSphere</category>
		</categories>
	</command>
	<command name="listVmHost" description="List VM hosts" developer="liuj">
		<script>vsphere\listVmHost</script>
		<parameters>
			&commonViServerParam;
			<parameter option="1" name="format" description="Output format, JSON | XML (default)" type="option">
				<options>
					<option value="XML">XML</option>
					<option value="JSON">JSON</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>vSphere</category>
		</categories>
	</command>
	<command name="vSphereSyncTime" description="Sync time for ESX and VM" developer="liuj">
		<script>vsphere\vSphereSyncTime</script>
		<parameters>
			&commonViServerParam;
			<parameter optional="1" name="ntpServerAddress" description="NTP server address. Default is '10.132.71.1'" />
		</parameters>
		<categories>
			<category>vSphere</category>
		</categories>
	</command>
	<command name="updateFirmware" description="Update DRAC firmware" developer="liuj">
		<script>vsphere\updateFirmware</script>
		<parameters>
			<parameter optional="0" name="address" description="IP address of the iDRAC card" />
			<parameter optional="1" name="user" description="User name (default is 'root')" />
			<parameter optional="1" name="password" description="Password (default is VMware standard)" type="password" />
			<parameter optional="1" name="type" description="Card type (default is 'iDrac')" type="option">
				<options>
					<option value="idrac">iDRAC</option>
				</options>
			</parameter>
		</parameters>
		<categories>
			<category>vSphere</category>
		</categories>
	</command>
	<command name="upgradeEsx" description="Upgrade ESX server" developer="liuj">
		<script>vsphere\upgradeEsx</script>
		<parameters>
			&commonViServerParam;
			&commonBuildParam;
		</parameters>
		<categories>
			<category>vSphere</category>
		</categories>
	</command>
	<command name="vmChangeName" description="Change hostname" developer="liuj">
		<script>windows\changeName</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="newGuestName" description="New name of the guest OS" />
		</parameters>
		<categories>
			<category>Windows</category>
		</categories>
	</command>
	<command name="vmGetInstalledApp" description="Get all installed applications" developer="liuj">
		<script>windows\getInstalledApp</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
		</parameters>
		<categories>
			<category>Windows</category>
		</categories>
	</command>
	<command name="vmReadFile" description="Read file in Windows" developer="liuj">
		<script>windows\readFile</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="filePath" description="File path in VM" />
			<parameter optional="1" name="numberOfLine" description="Number of lines to read. Count from top if positive; Count from bottom if negative. Read all if not defined." />
		</parameters>
		<categories>
			<category>Windows</category>
		</categories>
	</command>
	<command name="vmRestart" description="Restart" developer="liuj">
		<script>windows\restart</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
		</parameters>
		<categories>
			<category>Windows</category>
		</categories>
	</command>
	<command name="vmSetAutoAdminLogon" description="Set auto logon" developer="liuj">
		<script>windows\setAutoAdminLogon</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="switch" description="Auto logon switch, true | false." type="option">
				&falseOrTrue;
			</parameter>
		</parameters>
		<categories>
			<category>Windows</category>
		</categories>
	</command>
	<command name="vmShutdown" description="Shutdown" developer="liuj">
		<script>windows\shutDown</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
		</parameters>
		<categories>
			<category>Windows</category>
		</categories>
	</command>
	<command name="vmTrustVMwareSignature" description="Trust VMware Signed Drivers" developer="liuj">
		<script>windows\vmware\trustVMwareSignature</script>
		<annotation>
			<p>This command is to add VMware certificates (vmware_2013.cer and vmware_2016.cer) into Windows enterprise certificate store, so that VMware is considered a trusted publisher'.</p>
			<p>When the target machine is Windows XP, it simply sets the value of "HKLM:\SOFTWARE\Microsoft\Driver Signing\Policy" to 0.</p>
		</annotation>
		<parameters>
			&commonViServerParam;
			&vmParam;
		</parameters>
		<categories>
			<category>Windows</category>
		</categories>
	</command>
	<command name="vmUploadFileToRacetrack" description="Upload a file to Racetrack" developer="liuj">
		<script>windows\vmware\uploadFileToRacetrack</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="0" name="resultId" description="Result ID on Racetrack" />
			<parameter optional="0" name="description" description="Description of the file to upload" />
			<parameter optional="1" name="filePath" description="File path, default is vmmsi log in the temp folder of the user" />
		</parameters>
		<categories>
			<category>Windows</category>
		</categories>
	</command>
	<command name="vmFileUpload" description="Upload a file to Windows machine" developer="liuj">
		<script>fileUpload</script>
		<parameters>
			&commonViServerParam;
			&vmParam;
			<parameter optional="1" name="file" description="File to upload to VM" type="file" />
			<parameter optional="0" name="destination" description="Destination path, such as c:\temp\ or /home/temp/" />
		</parameters>
		<categories>
			<category>Windows</category>
		</categories>
	</command>
	<command name="runWorkflow" description="Run as a command" developer="liuj">
		<script>runWorkflow</script>
		<parameters>
			<parameter optional="0" name="name" description="Name of the workflow" />
			<parameter optional="1" name="emailTo" description="Email address to send notification" />
			<parameter optional="1" name="type" description="Run type, serial | parallel, default is serial" type="option">
				<options>
					<option value="serial">serial</option>
					<option value="parallel">parallel</option>
				</options>
			</parameter>
			<parameter optional="0" name="errorAction" description="Action on error, stop | continue, only meaningful for serial run" type="option">
				<options>
					<option value="stop">stop</option>
					<option value="continue">continue</option>
				</options>
			</parameter>
			<parameter optional="0" name="workflow" description="Workflow to run, in format of JSON" type="textarea" />
		</parameters>
		<categories>
			<category>Workflow</category>
		</categories>
	</command>
</webcommander>